---
title: 'Get Chat History'
openapi: 'GET /chat-history/{chatId}/paginated'
---

Retrieves paginated chat message history for a chat session. Messages are returned newest-first.

## Usage

<CodeGroup>

```bash cURL
curl "https://app.splox.io/api/v1/chat-history/0199f200-a11b-7c8d-4444-888890abcdef/paginated?limit=20" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

```python Python
from splox import SploxClient

client = SploxClient(api_key="YOUR_API_KEY")
result = client.chats.get_history("CHAT_ID", limit=20)
for msg in result.messages:
    text = msg.content[0].text if msg.content else ""
    print(f"[{msg.role}] {text}")

# Paginate backward
if result.has_more:
    oldest = result.messages[-1].created_at
    older = client.chats.get_history("CHAT_ID", limit=20, before=oldest)
```

```typescript Node.js
import Splox from "splox";

const client = new Splox("YOUR_API_KEY");
const result = await client.chats.getHistory("CHAT_ID", { limit: 20 });
for (const msg of result.messages) {
  const text = msg.content?.[0]?.text ?? "";
  console.log(`[${msg.role}] ${text}`);
}

// Paginate backward
if (result.has_more) {
  const oldest = result.messages.at(-1)!.created_at!;
  const older = await client.chats.getHistory("CHAT_ID", { limit: 20, before: oldest });
}
```

```go Go
client := splox.NewClient("YOUR_API_KEY")
result, err := client.Chats.GetHistory(ctx, "CHAT_ID", &splox.ChatHistoryParams{
    Limit: 20,
})
for _, msg := range result.Messages {
    text := ""
    if len(msg.Content) > 0 {
        text = msg.Content[0].Text
    }
    fmt.Printf("[%s] %s\n", msg.Role, text)
}
```

</CodeGroup>

## Path Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `chatId` | string (uuid) | Chat ID |

## Query Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `limit` | integer | 50 | Messages per page (1–200) |
| `before` | string (RFC3339) | — | Timestamp cursor for backward pagination. Omit to get the latest messages. |

## Response

Returns a **bare JSON array** of message objects:

```json
[
  {
    "id": "019c3221-29dc-7735-a4e3-b42ebb1a0cf1",
    "chat_id": "0199f200-a11b-7c8d-4444-888890abcdef",
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "Hello! How can I help you today?"
      }
    ],
    "files": [],
    "created_at": "2025-10-22T10:01:00Z",
    "updated_at": "2025-10-22T10:01:00Z"
  },
  {
    "id": "019c3221-29dc-7735-a4e3-b42ebb1a0cf2",
    "chat_id": "0199f200-a11b-7c8d-4444-888890abcdef",
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Summarize the latest report"
      }
    ],
    "created_at": "2025-10-22T10:00:00Z",
    "updated_at": "2025-10-22T10:00:00Z"
  }
]
```

### Message Roles

| Role | Description |
|------|-------------|
| `user` | Message from the user |
| `assistant` | Response from the AI agent |
| `system` | System-level message |
| `tool` | Tool execution result |

### Content Types

| Type | Description |
|------|-------------|
| `text` | Plain text content |
| `tool-call` | A tool invocation with `toolName` and `args` |
| `tool-result` | Result from a tool execution |
| `source` | Source reference with `url` and `title` |

### Pagination

Use the `created_at` timestamp of the **oldest** message in the current page as the `before` cursor for the next page:

```bash
# First page (latest messages)
curl ".../chat-history/{chatId}/paginated?limit=20"

# Next page (older messages)
curl ".../chat-history/{chatId}/paginated?limit=20&before=2025-10-22T10:00:00Z"
```

## Notes

<Info>
**Authentication required.** The authenticated user must own the chat session.
</Info>
